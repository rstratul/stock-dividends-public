Project Specification: Global Dividend & Portfolio Manager1. Context & ObjectiveBuild a professional-grade web application to track and analyze stock portfolios across NASDAQ, BVB (Romania), and European markets. The core value is high-fidelity dividend tracking and sustainability scoring (Safety Grade).2. Tech Stack RequirementsFrontend: Next.js 14+ (App Router), TypeScript, Tailwind CSS, Shadcn UI.Charts: TradingView Lightweight Charts or ApexCharts.Backend: Next.js Server Actions or a separate Node.js/Express server (AI's choice based on complexity).Database: PostgreSQL (via Prisma or Drizzle ORM).Caching: Redis (to minimize financial API costs).3. Core Feature RequirementsA. Data Fetching & MarketsImplement a multi-provider data layer.Markets: NASDAQ (US), BVB (Romania), Euronext/Xetra (Europe).Requirement: Create a unified "Ticker" format: SYMBOL:EXCHANGE (e.g., AAPL:NASDAQ, TLV:BVB).B. Dividend Tracking & CalendarFetch and store: Ex-Dividend Date, Payment Date, Amount, and Currency.View: A Monthly Dividend Calendar showing total expected payouts in a user-defined "Base Currency" (USD/RON/EUR).C. Dividend Sustainability Score (Safety Grade)For every stock, calculate a score (0-100) based on:Payout Ratio: $\frac{\text{Dividends Per Share}}{\text{Earnings Per Share (EPS)}}$.FCF Coverage: Cash flow vs. total dividends paid.Growth: Historical consistency of payments.Visual: Display a color-coded gauge (Green = Safe, Red = Risky).D. Historical ChartingOn-request fetching of historical price data (OHLC).Overlay dividend payout markers (flags) on the price timeline.E. Screener (Filter & Sort)Table view allowing users to filter by: Yield > X%, Payout < Y%, and Exchange.Support multi-currency sorting (convert all to Base Currency before sorting).4. Database Schema (High-Level)Users: Auth, Base Currency.Assets: Ticker, Name, Exchange, Last Price, Sector.Holdings: UserID, AssetID, Quantity, Average Buy Price.Dividends: AssetID, Ex-Date, Pay-Date, Amount, Currency.Financials: AssetID, EPS, Net Income, Free Cash Flow (for scoring).5. Implementation Instructions for Cursor AIPhase 1: Initialize the project structure with TypeScript and Shadcn UI.Phase 2: Setup PostgreSQL schema for Portfolio and Asset tracking.Phase 3: Create a "Mock Data Service" first so we can build the UI without hitting API limits.Phase 4: Implement the Sustainability Score logic in a dedicated utility file.Phase 5: Integrate real-world APIs (EODHD, Financial Modeling Prep, or BVB scrapers).